# CleaningDataProject

The project contains a R script "run_analysis.R" that reads the data set described in [1] and computes two new tidy data sets, "allData.csv" and "meansBySubjectActivity.csv", that are described in the file "Cookbook.txt".

## Performing the analysis

To run the script, make sure that you have the package data.table installed and that the working directory is the root directory that contains all the files from [1].  Run the script from the R command line as follows:
    source("run_analysis.R")
The command will compute the data-frames allData and meansBySubjectActivity in the local environment.

## Details of the analysis

The analysis first reads the file "features.txt" and extracts the names and indices of the features that we are interested in (namely means and standard deviations).  For that, the command grep is used with pattern (mean|std)\(\) is used, which captures texts "mean()" and "std()".  It also reads the names of the activities from "activities.txt" into variable activityNames.

As the data set [1] is partitioned in training and testing data, which are located into two different directories, we need to perform the same calculations for both directories.  The function loadMeasurements gets a directory name and performs the same activities in the contents of that directory, namely reads the three information files, concatenates them vertically, and relabels column names appropriately.  The activity codes are also replaced using the variable activityNames.

The function is called for both directories and the resulting data frames are concatenated horizontally, to form a single data frame allData.

Finally, the data frame meansBySubjectActivity is generated by grouping allData by subject and activity and using lapply to apply the function mean to all the numeric columns.

## References

[1] Davide Anguita, Alessandro Ghio, Luca Oneto, Xavier Parra and Jorge L. Reyes-Ortiz. Human Activity Recognition on Smartphones using a Multiclass Hardware-Friendly Support Vector Machine. International Workshop of Ambient Assisted Living (IWAAL 2012). Vitoria-Gasteiz, Spain. Dec 2012
